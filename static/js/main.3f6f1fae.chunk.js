(window["webpackJsonpbabylon-roxik-sharikura"]=window["webpackJsonpbabylon-roxik-sharikura"]||[]).push([[0],{25:function(t,e,i){t.exports=i(37)},30:function(t,e,i){},31:function(t,e,i){},32:function(t,e,i){},37:function(t,e,i){"use strict";i.r(e);var s=i(0),a=i.n(s),n=i(20),o=i.n(n),r=(i(30),i(22)),h=i(8),l=i(6),c=i(7),d=i(12),m=i(11),u=i(13),f=function(){return a.a.createElement("header",{className:"site-header"})},p=function(){return a.a.createElement("footer",{className:"site-footer"})},y=function(t){function e(){return Object(l.a)(this,e),Object(d.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(f,null),a.a.createElement("main",null,this.props.children),a.a.createElement(p,null))}}]),e}(s.Component),v=i(1),M=i(21),b=function(){function t(){Object(l.a)(this,t),this.camera=null,this.models=[],this.frame=1e3,this.sceneLimit=90,this.target=new v.Vector3(0,0,0),this.position=new v.Vector3(0,0,0),this.tm=null,this.cs=0,this.gy=0,this.l=0,this.bl=6,this.ts=0,this.r=0,this.rp=.03}return Object(c.a)(t,[{key:"step",value:function(){++this.frame>this.sceneLimit&&(this.frame=0,this.sceneLimit=Math.floor(60*Math.random()+30),this.tm=this.models[Math.floor(Math.random()*this.models.length)],this.ts=0,this.cs=0,this.gy=8*Math.random()-4,this.rp=.06*Math.random()-.03,this.bl=4*Math.random()+7),this.ts<.05&&(this.ts+=.005),this.cs<.5&&(this.cs+=.005),this.target.x+=(this.tm.position.x-this.target.x)*this.ts,this.target.y+=(this.tm.position.y-this.target.y)*this.ts,this.target.z+=(this.tm.position.z-this.target.z)*this.ts,this.r+=this.rp,this.l+=.1*(this.bl-this.l),this.position.x=(Math.cos(this.r)*this.l+this.tm.position.x-this.position.x)*this.cs,this.position.y=(this.tm.position.y+this.gy-this.position.y)*this.cs,this.position.z=(Math.sin(this.r)*this.l+this.tm.position.z-this.position.z)*this.cs}}]),t}(),g=function(){function t(){Object(l.a)(this,t),this.models=[],this.scene=t.CYLINDER,this.sceneLimit=100,this.frame=0,this.cutoff=0,this.r=0,this.r0=0,this.rp=0,this.rl=0}return Object(c.a)(t,[{key:"changeScene",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;switch(this.cutoff=0,this.scene=e,this.frame=0,this.sceneLimit=i<0?Math.floor(140*Math.random()+3):i,this.scene){case t.CYLINDER:this.cylinder();break;case t.SPHERE:this.sphere();break;case t.CUBE:this.cube();break;case t.TUBE:this.tube();break;case t.WAVE:this.wave();break;case t.GRAVITY:this.gravity();break;case t.ANTIGRAVITY:this.antigravity()}}},{key:"cylinder",value:function(){for(var t=0,e=2*Math.PI/this.models.length*Math.floor(40*Math.random()+1),i=0;i<this.models.length;i++){var s=this.models[i];s.speed=0,s.accel=.05*Math.random()+.022,s.animate=!1,s.dest=new v.Vector3,i<this.models.length-50?(s.dest.x=4*Math.cos(t),s.dest.y=.008*i-.004*(this.models.length-50),s.dest.z=4*Math.sin(t)):(s.dest.x=14*Math.random()-7,s.dest.y=14*Math.random()-7,s.dest.z=14*Math.random()-7),t+=e}}},{key:"sphere",value:function(){for(var t=0,e=0,i=2*Math.PI/this.models.length,s=i*Math.floor(40*Math.random()+1),a=5*Math.random()+3,n=0;n<this.models.length;n++){var o=this.models[n];o.speed=0,o.accel=.05*Math.random()+.022,o.animate=!1,o.dest=new v.Vector3;var r=Math.cos(t)*a;Math.random()>.06?(o.dest.x=Math.cos(e)*r,o.dest.y=Math.sin(t)*a,o.dest.z=Math.sin(e)*r):(o.dest.x=7*Math.random()-7,o.dest.y=7*Math.random()-7,o.dest.z=7*Math.random()-7),t+=i,e+=s}}},{key:"cube",value:function(){for(var t=.05*Math.random()+.022,e=0,i=1;;){if(i*i*i>this.models.length){i--;break}i++}for(var s=0;s<i;s++)for(var a=0;a<i;a++)for(var n=0;n<i;n++){var o=this.models[e++];o.speed=0,o.accel=t,o.animate=!1,o.dest=new v.Vector3,o.dest.x=.8*s+.8*-(i-1)*.5,o.dest.y=.8*a+.8*-(i-1)*.5,o.dest.z=.8*n+.8*-(i-1)*.5}}},{key:"tube",value:function(){for(var t=.05*Math.random()+.022,e=.02+.025*Math.random(),i=-e*this.models.length*.44,s=1.2+Math.random(),a=0;a<this.models.length;a++){var n=this.models[a];n.speed=0,n.accel=t,n.animate=!1,n.dest=new v.Vector3,Math.random()>.05?(n.dest.x=a*e+i,n.dest.y=Math.random()*s-.5*s,n.dest.z=Math.random()*s-.5*s):(n.dest.x=14*Math.random()-7,n.dest.y=14*Math.random()-7,n.dest.z=14*Math.random()-7)}}},{key:"wave",value:function(){var t,e=.05*Math.random()+.022,i=Math.floor(Math.sqrt(this.models.length)),s=.55*-(i-1)*.5,a=.3*Math.random()+.05,n=Math.random()+1,o=0;this.r=0,this.r0=0,this.rl=Math.random()+1,this.rp=.3*Math.random()+.1;for(var r=0;r<i;r++){var h=Math.cos(this.r)*n;this.r+=a;for(var l=0;l<i;l++)o+=1,(t=this.models[o-1]).speed=0,t.accel=e,t.animate=!1,t.dest=new v.Vector3,t.dir=new v.Vector3,t.dir.x=t.dir.y=t.dir.z=0,t.dest.x=.55*r+s,t.dest.y=h,t.dest.z=.55*l+s}for(;o<this.models.length;)(t=this.models[o]).speed=0,t.accel=e,t.animate=!1,t.dest=new v.Vector3,t.dest.x=14*Math.random()-7,t.dest.y=14*Math.random()-7,t.dest.z=14*Math.random()-7,o++}},{key:"gravity",value:function(){this.sceneLimit=60;for(var t=0;t<this.models.length;t++){var e=this.models[t];e.dir=new v.Vector3,e.speed=0,e.accel=.5,e.animate=!1,e.dir.y=-.2*Math.random()}}},{key:"antigravity",value:function(){for(var t=0;t<this.models.length;t++){var e=this.models[t];e.speed=0,e.accel=.5,e.animate=!1,e.dir=new v.Vector3,e.dir.x=.25*Math.random()-.125,e.dir.y=.25*Math.random()-.125,e.dir.z=.25*Math.random()-.125}}},{key:"step",value:function(){var e=null,i=null;switch(this.scene){case t.CYLINDER:case t.SPHERE:case t.CUBE:case t.TUBE:for(var s=0;s<this.cutoff;s++)if(!(e=this.models[s]).animate){e.speed<.8&&(e.speed=e.speed+e.accel);var a=e.dest.x-e.position.x,n=e.dest.y-e.position.y,o=e.dest.z-e.position.z;e.position.x=e.position.x+a*e.speed,e.position.y=e.position.y+n*e.speed,e.position.z=e.position.z+o*e.speed,Math.abs(a)<.05&&Math.abs(n)<.05&&Math.abs(o)<.05&&(e.animate=!0,e.position.x=e.dest.x,e.position.y=e.dest.y,e.position.z=e.dest.z)}i=Math.floor(this.models.length/40),this.cutoff+=i,this.cutoff>this.models.length&&(this.cutoff=this.models.length);break;case t.WAVE:for(var r=0,h=Math.floor(Math.sqrt(this.models.length)),l=0,c=0;c<h;c++){r=Math.cos(this.r)*this.rl,this.r=this.r+this.rp;for(var d=0;d<h;d++)(e=this.models[l++]).dest.y=r}this.r0+=.11,this.r=this.r0;for(var m=0;m<this.cutoff;m++)(e=this.models[m]).speed<.5&&(e.speed+=e.accel),e.position.x=e.position.x+(e.dest.x-e.position.x)*e.speed,e.position.y=e.position.y+(e.dest.y-e.position.y)*e.speed,e.position.z=e.position.z+(e.dest.z-e.position.z)*e.speed;i=Math.floor(this.models.length/40),this.cutoff+=i,this.cutoff>this.models.length&&(this.cutoff=this.models.length);break;case t.GRAVITY:for(var u=0;u<this.models.length;u++)(e=this.models[u]).position.y=e.position.y+e.dir.y,e.dir.y=e.dir.y-.06,e.position.y<-9&&(e.position.y=-9,e.dir.y=e.dir.y*-e.accel,e.accel=.9*e.accel);break;case t.ANTIGRAVITY:for(var f=0;f<this.cutoff;f++)(e=this.models[f]).position.x=e.position.x+e.dir.x,e.position.y=e.position.y+e.dir.y,e.position.z=e.position.z+e.dir.z;this.cutoff+=30,this.cutoff>this.models.length&&(this.cutoff=this.models.length)}++this.frame>this.sceneLimit&&this.changeScene(Math.floor(7*Math.random()))}}]),t}();g.CYLINDER=0,g.SPHERE=1,g.CUBE=2,g.TUBE=3,g.WAVE=4,g.GRAVITY=5,g.ANTIGRAVITY=6;i(31);var k=function(t){function e(){var t,i;Object(l.a)(this,e);for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return(i=Object(d.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(a)))).state={width:512,height:410},i.models=[],i}return Object(u.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("canvas",{className:"babylon",ref:function(e){t.babylon=e}})}},{key:"componentDidMount",value:function(){var t=this;this.initialize(),this.animate(),this.observer=new M.a(function(e){var i=e[0].contentRect,s=i.width,a=i.height;t.setState({width:Math.floor(s),height:Math.floor(a)})}),this.observer.observe(this.babylon)}},{key:"initialize",value:function(){this.initializeEngine(),this.initializeCamera(),this.initializeLights(),this.initializeMaterials(),this.initializeObjects(),this.initializeFilters(),this.initializeListeners()}},{key:"initializeEngine",value:function(){this.engine=new v.Engine(this.babylon,!0),this.scene=new v.Scene(this.engine),this.scene.clearColor=new v.Color3.FromHexString("#efefef")}},{key:"initializeCamera",value:function(){this.camera=new v.ArcRotateCamera("ArcRotateCamera",0,0,-10,new v.Vector3(18,18,18),this.scene),this.camera.setTarget(v.Vector3.Zero()),this.camera.attachControl(this.babylon,!0),this.cameraController=new b,this.cameraController.camera=this.camera}},{key:"initializeLights",value:function(){this.ambientLight=new v.DirectionalLight("DirectionalLight",new v.Vector3(-10,10,-10).normalize(),this.scene),this.ambientLight.diffuse=new v.Color3.FromHexString("#9090aa"),this.ambientLight.intensity=.5,new v.HemisphericLight("HemiLight",new v.Vector3(1,1,1),this.scene).intensity=.1}},{key:"initializeMaterials",value:function(){var t=["#97350b","#266ea5","#00847f","#2f818e","#08917c","#08917c","#6b458c","#7a4526"];this.sphereMaterial=[];for(var e=0;e<8;e++){var i=new v.StandardMaterial("material",this.scene);i.emissiveColor=new v.Color3.FromHexString(t[e]),this.sphereMaterial.push(i)}this.cubeMaterial=new v.StandardMaterial("cubeMaterial",this.scene),this.cubeMaterial.wireframe=!0}},{key:"initializeObjects",value:function(){for(var t=0;t<8;t++)for(var e=0;e<8;e++)for(var i=0;i<8;i++){var s=this.sphereMaterial[Math.floor(8*Math.random())],a=v.MeshBuilder.CreateSphere("mySphere",{diameter:.6},this.scene);a.material=s,a.position.set(.7*t-7*.7*.5,.7*e-7*.7*.5,.7*i-7*.7*.5),this.models.push(a)}this.cube=v.MeshBuilder.CreateBox("myBox",{height:18,width:18,depth:18},this.scene),this.cube.material=this.cubeMaterial,this.cameraController.models=this.models,this.motionController=new g,this.motionController.models=this.models,this.motionController.changeScene(g.CYLINDER)}},{key:"initializeFilters",value:function(){}},{key:"initializeListeners",value:function(){document.addEventListener("keydown",this.keydownHandler.bind(this))}},{key:"animate",value:function(){requestAnimationFrame(this.animate.bind(this)),this.cameraController.step(),this.motionController.step(),this.scene.render()}},{key:"keydownHandler",value:function(t){switch(t.which){case 49:case 97:this.motionController.changeScene(g.CYLINDER);break;case 50:case 98:this.motionController.changeScene(g.SPHERE);break;case 51:case 99:this.motionController.changeScene(g.CUBE);break;case 52:case 100:this.motionController.changeScene(g.TUBE);break;case 53:case 101:this.motionController.changeScene(g.WAVE);break;case 54:case 102:this.motionController.changeScene(g.GRAVITY);break;case 55:case 103:this.motionController.changeScene(g.ANTIGRAVITY)}}},{key:"componentDidUpdate",value:function(t,e,i){this.engine.resize()}},{key:"componentWillUnmount",value:function(){this.observer.disconnect()}}]),e}(a.a.Component),w=(i(32),function(){return a.a.createElement(y,null,a.a.createElement("h1",{className:"site-title"},"Babylon.js Roxik Sharikua"),a.a.createElement(k,null))}),z=function(){return a.a.createElement(r.a,{basename:"/babylon-react-example"},a.a.createElement(h.c,null,a.a.createElement(h.a,{exact:!0,path:"/",component:w})))},E=function(){return a.a.createElement("div",{className:"app"},a.a.createElement(z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.3f6f1fae.chunk.js.map